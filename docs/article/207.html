<!DOCTYPE html>
<html lang="zh-CN">
<head>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>“超时”机制有哪些？“加载超时”只排第三 – 荼蘼花</title>
<link rel="dns-prefetch" href="//s.w.org">


<link rel="stylesheet" id="wp-block-library-css" href="https://tumihua.cn/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="gutenberg-editor-style-css" href="https://tumihua.cn/wp-content/themes/buildx/assets/css/editor-style.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="https://tumihua.cn/wp-content/plugins/wp-pagenavi/pagenavi-css.css" type="text/css" media="all">
<style id="buildx-custom-style-inline-css" type="text/css">

		.moretag, .post-meta a, .post-tags a, #sidebar .widget-title,.post-line:before, .post-title a, .site-name, .buildx_pagenation a, .page-links a, .nav-links a, .copyright a{ color: #5361bc !important; }
		.moretag{ border: 1px #5361bc solid; }
		.moretag:hover, #sidebar .btn, footer .btn{border-color: #5361bc; background: #5361bc !important;}
		.moretag:hover, a:hover, .post-title a:hover, .buildx_pagenation a:hover, .page-links a:hover, .nav-links a:hover{ color: #f9b701 !important;} 
		body p,.post-tags, .post-meta{ color: #595b59}
		#sidebar, #sidebar a, .main-menu ul li a{ color: #303842 !important;}
		footer .widget-wrapper ul li a:hover, #sidebar a:hover,
		.main-menu ul li a:hover, .main-menu ul li.current-menu-item a, .active{ color: #0028db !important;}
		.post-tags span, .post-meta span{ color: #7c81a0 !important; }
		#footer-widgets{ background: #252d3a !important;  }
		footer .widget-wrapper ul li a, footer, footer p, .footer-menu ul li a{ color: #ffffff !important}
	
</style>
<link rel="stylesheet" id="bootstrap-css" href="https://tumihua.cn/wp-content/themes/buildx/assets/css/bootstrap/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="fontawesome-css" href="https://tumihua.cn/wp-content/themes/buildx/assets/css/fontawesome/all.min.css" type="text/css" media="all">
<link rel="stylesheet" id="buildx-template-css" href="https://tumihua.cn/wp-content/themes/buildx/assets/css/template.css" type="text/css" media="all">
<script type="text/javascript" src="https://tumihua.cn/wp-includes/js/jquery/jquery.js"></script>
<script type="text/javascript" src="https://tumihua.cn/wp-includes/js/jquery/jquery-migrate.min.js"></script>









<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e5fff7; }
</style>
	<link rel="icon" href="https://tumihua.cn/wp-content/uploads/2019/10/erweima-150x150.png" sizes="32x32">
<link rel="icon" href="https://tumihua.cn/wp-content/uploads/2019/10/erweima.png" sizes="192x192">
<link rel="apple-touch-icon-precomposed" href="https://tumihua.cn/wp-content/uploads/2019/10/erweima.png">
<meta name="msapplication-TileImage" content="https://tumihua.cn/wp-content/uploads/2019/10/erweima.png">
		<style type="text/css" id="wp-custom-css">
			.site-name {
    font-size: 1em;
}

.post-author {
	display: none;
}		</style>
			
	
	<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	
	
</head>
<body class="post-template-default single single-post postid-207 single-format-standard custom-background">
	<header>
        <section class="menu-area">
            <div class="main-menu col-12 col-md-12">
                <nav class="navbar navbar-expand-md" role="navigation">
                    <div class="container">

                        
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-controls="bs-example-navbar-collapse-1" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="fas fa-bars"></span>
                        </button>

                        <div class="logo col-6">
                                                        <div class="site-brand">
                                <div class="site-title">
                                    <a href="https://tumihua.cn/" title="荼蘼花"><h2 class="site-name">荼蘼花</h2></a>                                </div>
                                <div class="site-description">
                                                                    </div>
                            </div>
                        </div>

                        <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse"><ul id="menu-daohang" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-241" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-241 nav-item"><a title="首页" href="/" class="nav-link">首页</a></li>
<li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-242" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-242 nav-item"><a title="资讯" href="/index2.html" class="nav-link">资讯</a></li>
<li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-243" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-243 nav-item"><a title="柚子社区" href="https://uzshare.com" class="nav-link">柚子社区</a></li>
<li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-244" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-244 nav-item"><a title="有组织在！" href="https://uzzz.org" class="nav-link">有组织在！</a></li>
</ul></div>
                    </div>
                </nav>
            </div>
        </section>
	</header>

<div id="single-post">
    <div class="col-12 content-area">

        
<article id="post-207" class="post-207 post type-post status-publish format-standard hentry tag-2nian tag-chanpinsheji tag-chuji tag-chaoshijizhi">

	<header id="post-header" class="row">

		<div class="col-12 col-md-6 col-lg-4 post-title">

			<div class="post-category">未分类</div>
			<h1>“超时”机制有哪些？“加载超时”只排第三</h1>			<div class="post-meta">Written By fandyvon on 2019年10月9日</div>

		</div>

		<div class="col-12 col-md-6 col-lg-8 post-featured-image"><img src="http://image.woshipm.com/wp-files/2019/09/kBHudJv6EoqbjAhcm6Ci.jpg!v.jpg"></div>

	</header>

	<div id="post-content" class="container">
		<div class="row">
			<div class="col-12">

				<div class="grap">
<blockquote>
<p>“超时”处理机制很常见。笔者将其分为三类：逻辑类的、业务类的，和性能类的超时机制。</p>
</blockquote>
<p><img data-action="zoom" class="size-full wp-image-2895993 aligncenter" src="http://image.woshipm.com/wp-files/2019/09/kBHudJv6EoqbjAhcm6Ci.jpg!v.jpg" alt="" width="800" height="450"></p>
<h2>一、逻辑类超时处理机制</h2>
<p>这类超时机制，是为了完成功能闭环而设立的，举例如下。</p>
<h3>1. 超时无应答机制</h3>
<p>超时无应答机制比较常见，比如微信请求语音聊天，请求发出15s，对方不应答，则自动取消。</p>
<p>首先，请求发出去，一定要有结束的节点，避免无休止地占用资源。</p>
<p>其次，设置固定的等待时长，超时无应答，则结束。当然，也可以辅助手动取消按钮。</p>
<h3>2. 若干时间内不打扰</h3>
<p>有的场景，希望用户多次收到提醒，但是又不能过于频繁，因此可以设置成若干时长内不再打扰的模式。</p>
<p>类似下图免打扰的提示：XX分钟内不提醒，为用户提供更宽泛的选择通道。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" src="http://image.woshipm.com/wp-files/2019/09/In4xLN8fiZSa1t5cYEw5.jpeg!v.jpg"></p>
<p>当然超过选定的时间久继续“打扰”了。</p>
<h3>3. 超过一定时间，则采取措施</h3>
<p>例如，出于存储的空间考虑，小米手机存储的照片超过一定时间没打开过，则自动上传到云端。那么这也是保障手机性能的一个策略。</p>
<p>它比“超时无应答”更激进一点，“自作主张”地将事件向前推进一步。</p>
<h3>4. 超过一定时间，才释放新消息</h3>
<p>比如发起好友请求，等待对方接受。发起方可以多次发送请求。</p>
<p>但是作为接受方，若始终看不到，或不处理，是否重复推送新消息，一条条通知摞起来呢？</p>
<p>通常的方案是引入超时释放消息的机制，即定义一个规则：</p>
<ol>
<li>一定时间内，发起方可以连续发送待处理的消息，但只给接收方释放第一条。这样接收方就只显示一条待处理通知。</li>
<li>若超过一段时间（通常一周）仍没得到处理，则发起方再次发送的时候，重新释放一条新消息给对方，并将旧消息做更新（仍显示一条）。</li>
</ol>
<h3>5. 超过一定时间，则内容消失</h3>
<p>某些互动游戏，需要双方对称发出的，如划拳类（石头剪刀布）、比大小类（掷骰子）。</p>
<p>一方发出之后，要等待对方。二人又可以不断地发新的，那么上次发出的要等待多久呢？</p>
<p>微信的处理办法是将发出的当作历史消息。这是一种省事的方案。</p>
<p>但是如果界面不是聊天信息流，而是有限的空间，比如这样：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" src="http://image.woshipm.com/wp-files/2019/09/cz6KyWbtnhC5Ny9QKd5K.gif!v.jpg" width="302" height="533"></p>
<p>那么就需要考虑新的消息顶替旧消息，以及同一方发出的消息最长停留时间。</p>
<p>比如可以约定，同一方发出的，停留最长时间5s，超时则自动消失，无需等待对方的。若有新的则直接替换旧的。</p>
<h2>二、业务类的超时机制</h2>
<p>业务方面的超时机制，多由业务习惯而定，相较宽松灵活。</p>
<h3>1. “门槛”类的超时机制</h3>
<p>一些社交软件，限时免费聊天，超时则需要付费，或其他办法获取延时。</p>
<p>比如语音聊天（未公开身份时）超过60s则自动结束。</p>
<p>这种就是从运营的需求考虑，人为设置一个“免费品尝”的条件，从而引入了超时的概念。</p>
<h3>2. 交易类的超时处理</h3>
<p>比如，卖家操作“发货”之时起，买家超过规定时限内确认收货且未申请退款的，则默认买家已收到货，且货物质量符合交易双方的约定，交易成功。</p>
<p>如果在贴近市场的话，还可以规定快递、EMS及不需要物流的商品十天内，平邮商品三十天内。</p>
<p>类似还有，买家自拍下商品之时起一天内未付款的，交易自动关闭；</p>
<p>自买家付款之时起三百六十五天内卖家未点击“发货”的，交易自动关闭，退款给买家；</p>
<p>卖家自本退款申请提交之日起五天内，不响应退款申请的，默认达成退款申请，进入到退货程序等。如电商这类业务性极强的领域，到处都是类似的超时机制。</p>
<h3>3. 其他行业的超时规则</h3>
<p>业务类超时机制，实际都是对实际业务模型的线上呈现，本质是对行业契约的履约。</p>
<h2>三、性能方面的超时机制</h2>
<p>性能方面的超时多是客观被动的，最主要是加载超时。包括是网络状态不好，和客户端配置不足导致的。</p>
<h3>1. 网络原因的超时</h3>
<p>网络原因的超时的原因，主要包括如下：</p>
<ol>
<li>手机自身问题，比如停机、没开wifi或者流量、系统卡死等。</li>
<li>手机所处环境网络不好，向服务器请求超时。比如信号不好、或者信号接受不良。</li>
<li>服务器自身故。</li>
<li>服务器接收或回复故障，比如机房网络问题或服务器处理问题。</li>
</ol>
<p>产品经理要做的就是如何让这个事件融洽地落地。</p>
<p><strong>（1）直接报以空白页或者错误页</strong></p>
<p><img data-action="zoom" class="rich_pages aligncenter" src="http://image.woshipm.com/wp-files/2019/09/aClMDQd5qH4o80cXpiYE.jpeg!v.jpg" width="309" height="488"></p>
<p><strong>（2）提供当前刷新渠道，保存前面的操作</strong></p>
<p>比如用户是在网购，接近下单了，结果网络中断了一会。这时候直接反馈一个空白页，用户只能退回到上一步，前功尽弃。</p>
<p>因此最好是设计一个本地刷新按钮，点击即在当前刷新，避免了用户重复操作之前的步骤。</p>
<p>基于该思想，可以作如下发挥或拓展：</p>
<ol>
<li>设计刷新时的彩蛋，给用户带来一些惊喜。比如弹出来一个俏皮的图案，或一句诙谐的话缓解用户的不满的情绪。</li>
<li>增加保存本地，或保存草稿的按钮，在表单资料填写界面，多使用类似的设计。</li>
<li>增加自动重新刷新：可以设置超时加载的机制。超过一定的时间 则取消本次加载。比如王者荣耀的连线尝试7次。</li>
</ol>
<p><img data-action="zoom" class="aligncenter" src="http://image.woshipm.com/wp-files/2019/09/0lMEgdQDzPcYSQ9q5LKR.jpeg!v.jpg" width="493" height="273"></p>
<p>上实现的本质就是缓存。比如对于新闻类的、咨询类的，这类APP一般都会有缓存。这就是微信朋友圈，为什么在没有网络的情况下也是可以查看之前加载过的内容。</p>
<p>有的应用之所以很大，就是因为缓存了大量内容，当然也需要定期自动或手动清缓存的。</p>
<h3>2. 客户端配置不足导致的超时</h3>
<p>比如内存、分辨率等硬件参数导致的。这不是话题重点。</p>
<p>作为产品经理，只需要注意的是，做好边缘机型的适配。</p>
<p> </p>
<p>作者：唧唧歪歪PM；公众号：唧唧歪歪PM（ID：<a href="https://mp.weixin.qq.com/s/rFGXliF4UyCcAiWiXcjYSg" target="_blank" rel="noopener noreferrer">jjyypm</a>）</p>
<p>本文由 @唧唧歪歪PM 原创发布于人人都是产品经理，未经作者许可，禁止转载。</p>
<p>题图来自Unsplash，基于CC0协议</p>
</div>
<p><a href="http://www.woshipm.com/pd/2895927.html">http://www.woshipm.com/pd/2895927.html</a></p>

                <div class="clearfix"></div>

                <div class="post-meta">
                    <span class="fas fa-tags"></span> <a href="https://tumihua.cn/tag/2nian" rel="tag">2年</a>, <a href="https://tumihua.cn/tag/chanpinsheji" rel="tag">产品设计</a>, <a href="https://tumihua.cn/tag/chuji" rel="tag">初级</a>, <a href="https://tumihua.cn/tag/chaoshijizhi" rel="tag">超时机制</a>                </div>

			</div>
		</div>
	</div>

</article>

            <div class="container">
                <div class="row buildx_pagenation">

                                <div class="col-12 col-md-6 text-left mb-5">« <a href="https://tumihua.cn/article/208.html" rel="next">干货：一篇文章搞定10种异常状态</a></div>
            <div class="col-12 col-md-6 text-right mb-5"><a href="https://tumihua.cn/article/205.html" rel="prev">产品消息机制的规划和设计，不止是弹窗</a> »</div>
		
                </div>
            </div>

        
    </div>
</div>


	<footer>
        <div id="footer-widgets">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-3">
	</div>

<div class="col-12 col-md-3">
	</div>

<div class="col-12 col-md-3">
	</div>

<div class="col-12 col-md-3">
	</div>                </div>
            </div>
        </div>
        <div id="footer-copyright">
             <div class="container">
                 <div class="row">

                     <div class="col-12 col-md-6 text-left copyright">
                         All rights reserved. Powered by Tumihua.cn                     </div>

                     <div class="col-12 col-md-6 text-right footer-menu">
                                             </div>

                 </div>
             </div>
        </div>
    </footer>
	<script type="text/javascript">
jQuery(document).ready(function(){jQuery(".is-type-video").fitVids({ customSelector: "iframe[src^='https://videopress.com'], iframe[src^='http://videopress.com']"})});
</script>
<script type="text/javascript" src="https://tumihua.cn/wp-content/themes/buildx/assets/js/bootstrap/bootstrap.min.js"></script>
<script type="text/javascript" src="https://tumihua.cn/wp-content/themes/buildx/assets/js/fitvids.js"></script>
</body>
</html>
